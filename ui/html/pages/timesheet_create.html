{{define "title"}}
{{if .Form.IsUpdate}}Update Timesheet{{else}}Create a New Timesheet{{end}} - {{.Project.Name}}
{{end}}

{{define "main"}}
<a href="/project/view/{{.Project.ID}}" class="back-link">
    Back to {{.Project.Name}}
</a>

<h2>{{if .Form.IsUpdate}}Update Timesheet{{else}}Create a New Timesheet{{end}}</h2>
<p class="text-muted">
    Project: <strong>{{.Project.Name}}</strong> | 
    Client: <strong>{{.Client.Name}}</strong>
</p>

<div class="form-container">
    <form method='POST'>
        <div class="form-group">
            <label>Work Date:</label>
            {{with .Form.FieldErrors.work_date}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='date' name='work_date' value="{{.Form.WorkDate}}" {{with .Form.FieldErrors.work_date}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        <div class="form-group">
            <label>Hours Worked:</label>
            {{with .Form.FieldErrors.hours_worked}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='number' name='hours_worked' value="{{.Form.HoursWorked}}" step="0.25" min="0" max="24" placeholder="e.g., 8.5" {{with .Form.FieldErrors.hours_worked}}class="form-input error"{{else}}class="form-input"{{end}}>
            <small class="form-help">Enter hours in decimal format (e.g., 8.25 for 8 hours 15 minutes)</small>
        </div>
        <div class="form-group">
            <label>Hourly Rate:</label>
            {{with .Form.FieldErrors.hourly_rate}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='number' name='hourly_rate' value="{{.Form.HourlyRate}}" step="0.01" min="0" placeholder="e.g., 125.00" {{with .Form.FieldErrors.hourly_rate}}class="form-input error"{{else}}class="form-input"{{end}}>
            <small class="form-help">Enter hourly rate in decimal format (e.g., 125.00)</small>
        </div>
        <div class="form-group">
            <label>Description:</label>
            {{with .Form.FieldErrors.description}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='description' value="{{.Form.Description}}" maxlength="255" placeholder="Brief description of work performed" {{with .Form.FieldErrors.description}}class="form-input error"{{else}}class="form-input"{{end}}>
            <small class="form-help">Brief description of work performed (max 255 characters)</small>
        </div>
        <div class="form-actions">
            <input type='submit' value='{{if .Form.IsUpdate}}Update timesheet{{else}}Create timesheet{{end}}'>
            {{if .Form.IsUpdate}}
            <a href="/project/view/{{.Project.ID}}" class="btn-cancel">Cancel</a>
            {{end}}
        </div>
    </form>
</div>
{{end}}