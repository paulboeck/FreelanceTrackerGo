{{define "title"}}
{{if .Client}}Update Client{{else}}Create a New Client{{end}}
{{end}}

{{define "main"}}
<h2>{{if .Client}}Update Client{{else}}Create a New Client{{end}}</h2>
<div class="form-container">
    <form action='{{if .Client}}/client/update/{{.Client.ID}}{{else}}/client/create{{end}}' method='POST'>
        <div class="form-group">
            <label>Name:</label>
            {{with .Form.FieldErrors.name}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='name' value="{{.Form.Name}}" {{with .Form.FieldErrors.name}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Email:</label>
            {{with .Form.FieldErrors.email}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='email' name='email' value="{{.Form.Email}}" {{with .Form.FieldErrors.email}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Phone:</label>
            {{with .Form.FieldErrors.phone}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='phone' value="{{.Form.Phone}}" {{with .Form.FieldErrors.phone}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Address 1:</label>
            {{with .Form.FieldErrors.address1}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='address1' value="{{.Form.Address1}}" {{with .Form.FieldErrors.address1}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Address 2:</label>
            {{with .Form.FieldErrors.address2}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='address2' value="{{.Form.Address2}}" {{with .Form.FieldErrors.address2}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Address 3:</label>
            {{with .Form.FieldErrors.address3}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='address3' value="{{.Form.Address3}}" {{with .Form.FieldErrors.address3}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>City:</label>
            {{with .Form.FieldErrors.city}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='city' value="{{.Form.City}}" {{with .Form.FieldErrors.city}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>State:</label>
            {{with .Form.FieldErrors.state}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='state' value="{{.Form.State}}" {{with .Form.FieldErrors.state}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Zip Code:</label>
            {{with .Form.FieldErrors.zip_code}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='zip_code' value="{{.Form.ZipCode}}" {{with .Form.FieldErrors.zip_code}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Hourly Rate:</label>
            {{with .Form.FieldErrors.hourly_rate}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='number' name='hourly_rate' value="{{.Form.HourlyRate}}" step="0.01" min="0" {{with .Form.FieldErrors.hourly_rate}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Bill To:</label>
            {{with .Form.FieldErrors.bill_to}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='bill_to' value="{{.Form.BillTo}}" {{with .Form.FieldErrors.bill_to}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>
                <input type='checkbox' name='include_address_on_invoice' value="true" {{if .Form.IncludeAddressOnInvoice}}checked{{end}}>
                Include Address on Invoice
            </label>
        </div>
        
        <div class="form-group">
            <label>Invoice CC Email:</label>
            {{with .Form.FieldErrors.invoice_cc_email}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='email' name='invoice_cc_email' value="{{.Form.InvoiceCCEmail}}" {{with .Form.FieldErrors.invoice_cc_email}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Invoice CC Description:</label>
            {{with .Form.FieldErrors.invoice_cc_description}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='invoice_cc_description' value="{{.Form.InvoiceCCDescription}}" {{with .Form.FieldErrors.invoice_cc_description}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>University Affiliation:</label>
            {{with .Form.FieldErrors.university_affiliation}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='university_affiliation' value="{{.Form.UniversityAffiliation}}" {{with .Form.FieldErrors.university_affiliation}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Additional Info:</label>
            {{with .Form.FieldErrors.additional_info}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='additional_info' value="{{.Form.AdditionalInfo}}" {{with .Form.FieldErrors.additional_info}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Additional Info 2:</label>
            {{with .Form.FieldErrors.additional_info2}}
                <label class="error">{{.}}</label>
            {{end}}
            <input type='text' name='additional_info2' value="{{.Form.AdditionalInfo2}}" {{with .Form.FieldErrors.additional_info2}}class="form-input error"{{else}}class="form-input"{{end}}>
        </div>
        
        <div class="form-group">
            <label>Notes:</label>
            {{with .Form.FieldErrors.notes}}
                <label class="error">{{.}}</label>
            {{end}}
            <textarea name='notes' rows="4" {{with .Form.FieldErrors.notes}}class="form-input error"{{else}}class="form-input"{{end}}>{{.Form.Notes}}</textarea>
        </div>
        
        <div class="form-actions">
            <input type='submit' value='{{if .Client}}Update client{{else}}Create client{{end}}'>
            {{if .Client}}
            <a href="/client/view/{{.Client.ID}}" class="btn-cancel">Cancel</a>
            {{end}}
        </div>
    </form>
</div>
{{end}}