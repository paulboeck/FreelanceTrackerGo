{{define "title"}}Edit Settings{{end}}

{{define "main"}}
    <div style="margin-bottom: 1rem;">
        <a href="/settings" style="color: #3b82f6; text-decoration: none;">
            ‚Üê Back to Settings
        </a>
    </div>

    <form action="/settings/edit" method="POST" novalidate>
        <div class="form-section">
            <h2>Edit Setting Values</h2>
            <p style="color: #6b7280; margin-bottom: 1.5rem;">
                You can only modify the values of existing settings. Settings are managed by the application.
            </p>
            
            {{range .Settings}}
                <div class="form-group">
                    <label for="{{.Key}}">{{.Key}}</label>
                    {{if .Description}}
                        <p class="form-help">{{.Description}}</p>
                    {{end}}
                    
                    {{if eq .DataType "string"}}
                        <input type="text" id="{{.Key}}" name="{{.Key}}" value="{{.Value}}" 
                               {{with index $.Form.FieldErrors .Key}}class="form-input error"{{else}}class="form-input"{{end}}>
                    {{else if eq .DataType "decimal"}}
                        <input type="number" step="0.01" id="{{.Key}}" name="{{.Key}}" value="{{.Value}}" 
                               {{with index $.Form.FieldErrors .Key}}class="form-input error"{{else}}class="form-input"{{end}}>
                    {{else if eq .DataType "int"}}
                        <input type="number" id="{{.Key}}" name="{{.Key}}" value="{{.Value}}" 
                               {{with index $.Form.FieldErrors .Key}}class="form-input error"{{else}}class="form-input"{{end}}>
                    {{else if eq .DataType "float"}}
                        <input type="number" step="any" id="{{.Key}}" name="{{.Key}}" value="{{.Value}}" 
                               {{with index $.Form.FieldErrors .Key}}class="form-input error"{{else}}class="form-input"{{end}}>
                    {{else if eq .DataType "bool"}}
                        <select id="{{.Key}}" name="{{.Key}}" 
                                {{with index $.Form.FieldErrors .Key}}class="form-input error"{{else}}class="form-input"{{end}}>
                            <option value="true" {{if eq .Value "true"}}selected{{end}}>Yes</option>
                            <option value="false" {{if eq .Value "false"}}selected{{end}}>No</option>
                        </select>
                    {{else}}
                        <input type="text" id="{{.Key}}" name="{{.Key}}" value="{{.Value}}" 
                               {{with index $.Form.FieldErrors .Key}}class="form-input error"{{else}}class="form-input"{{end}}>
                    {{end}}
                    
                    {{with index $.Form.FieldErrors .Key}}
                        <label class="error">{{.}}</label>
                    {{end}}
                </div>
            {{end}}
        </div>

        <div class="form-actions">
            <input type="submit" value="Save Settings" class="btn-submit">
            <a href="/settings" class="btn-cancel">Cancel</a>
        </div>
    </form>
{{end}}